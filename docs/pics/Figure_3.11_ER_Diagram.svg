<?xml version="1.0" encoding="UTF-8"?>
<svg width="750" height="480" xmlns="http://www.w3.org/2000/svg">
    <!-- ER Diagram for HMS Database -->
    <defs>
        <marker id="erArrow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
            <polygon points="0 0, 8 4, 0 8" fill="#000" />
        </marker>
    </defs>
    
    <!-- USERS Entity -->
    <rect x="20" y="20" width="140" height="100" fill="#E3F2FD" stroke="#000" stroke-width="2"/>
    <rect x="20" y="20" width="140" height="30" fill="#2196F3" stroke="#000" stroke-width="2"/>
    <text x="90" y="40" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold" fill="#fff">USERS</text>
    <text x="25" y="60" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="25" y="75" font-family="Times New Roman" font-size="11">• username</text>
    <text x="25" y="90" font-family="Times New Roman" font-size="11">• email</text>
    <text x="25" y="105" font-family="Times New Roman" font-size="11">• role</text>
    
    <!-- PATIENTS Entity -->
    <rect x="200" y="20" width="160" height="120" fill="#E8F5E9" stroke="#000" stroke-width="2"/>
    <rect x="200" y="20" width="160" height="30" fill="#4CAF50" stroke="#000" stroke-width="2"/>
    <text x="280" y="40" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold" fill="#fff">PATIENTS</text>
    <text x="205" y="60" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="205" y="75" font-family="Times New Roman" font-size="11">• patient_id (UK)</text>
    <text x="205" y="90" font-family="Times New Roman" font-size="11">• first_name, last_name</text>
    <text x="205" y="105" font-family="Times New Roman" font-size="11">• phone, email</text>
    <text x="205" y="120" font-family="Times New Roman" font-size="11">• blood_type, allergies</text>
    <text x="205" y="135" font-family="Times New Roman" font-size="11">• medical_history</text>
    
    <!-- DOCTORS Entity -->
    <rect x="400" y="20" width="160" height="120" fill="#FCE4EC" stroke="#000" stroke-width="2"/>
    <rect x="400" y="20" width="160" height="30" fill="#E91E63" stroke="#000" stroke-width="2"/>
    <text x="480" y="40" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold" fill="#fff">DOCTORS</text>
    <text x="405" y="60" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="405" y="75" font-family="Times New Roman" font-size="11">• user_id (FK)</text>
    <text x="405" y="90" font-family="Times New Roman" font-size="11">• doctor_id (UK)</text>
    <text x="405" y="105" font-family="Times New Roman" font-size="11">• specialization</text>
    <text x="405" y="120" font-family="Times New Roman" font-size="11">• consultation_fee</text>
    <text x="405" y="135" font-family="Times New Roman" font-size="11">• qualification</text>
    
    <!-- APPOINTMENTS Entity -->
    <rect x="295" y="180" width="170" height="110" fill="#FFF3E0" stroke="#000" stroke-width="2"/>
    <rect x="295" y="180" width="170" height="30" fill="#FF9800" stroke="#000" stroke-width="2"/>
    <text x="380" y="200" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold" fill="#fff">APPOINTMENTS</text>
    <text x="300" y="220" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="300" y="235" font-family="Times New Roman" font-size="11">• appointment_id (UK)</text>
    <text x="300" y="250" font-family="Times New Roman" font-size="11">• patient_id (FK)</text>
    <text x="300" y="265" font-family="Times New Roman" font-size="11">• doctor_id (FK)</text>
    <text x="300" y="280" font-family="Times New Roman" font-size="11">• appointment_date/time</text>
    
    <!-- BILLING Entity -->
    <rect x="20" y="330" width="150" height="100" fill="#F3E5F5" stroke="#000" stroke-width="2"/>
    <rect x="20" y="330" width="150" height="30" fill="#9C27B0" stroke="#000" stroke-width="2"/>
    <text x="95" y="350" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold" fill="#fff">BILLING</text>
    <text x="25" y="370" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="25" y="385" font-family="Times New Roman" font-size="11">• bill_number (UK)</text>
    <text x="25" y="400" font-family="Times New Roman" font-size="11">• patient_id (FK)</text>
    <text x="25" y="415" font-family="Times New Roman" font-size="11">• total_amount</text>
    
    <!-- INVENTORY Entity -->
    <rect x="220" y="330" width="150" height="100" fill="#E0F2F1" stroke="#000" stroke-width="2"/>
    <rect x="220" y="330" width="150" height="30" fill="#009688" stroke="#000" stroke-width="2"/>
    <text x="295" y="350" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold" fill="#fff">INVENTORY</text>
    <text x="225" y="370" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="225" y="385" font-family="Times New Roman" font-size="11">• item_name</text>
    <text x="225" y="400" font-family="Times New Roman" font-size="11">• quantity</text>
    <text x="225" y="415" font-family="Times New Roman" font-size="11">• reorder_level</text>
    
    <!-- DEPARTMENTS Entity -->
    <rect x="590" y="20" width="140" height="90" fill="#FFF9C4" stroke="#000" stroke-width="2"/>
    <rect x="590" y="20" width="140" height="30" fill="#FBC02D" stroke="#000" stroke-width="2"/>
    <text x="660" y="40" text-anchor="middle" font-family="Times New Roman" font-size="13" font-weight="bold">DEPARTMENTS</text>
    <text x="595" y="60" font-family="Times New Roman" font-size="11">• id (PK)</text>
    <text x="595" y="75" font-family="Times New Roman" font-size="11">• name</text>
    <text x="595" y="90" font-family="Times New Roman" font-size="11">• head_doctor_id (FK)</text>
    
    <!-- Relationships -->
    <!-- Users to Doctors (1:1) -->
    <line x1="160" y1="70" x2="400" y2="80" stroke="#000" stroke-width="2" marker-end="url(#erArrow)"/>
    <text x="250" y="65" font-family="Times New Roman" font-size="10" fill="#666">1:1</text>
    
    <!-- Patients to Appointments (1:N) -->
    <line x1="280" y1="140" x2="380" y2="180" stroke="#000" stroke-width="2" marker-end="url(#erArrow)"/>
    <text x="310" y="155" font-family="Times New Roman" font-size="10" fill="#666">1:N</text>
    
    <!-- Doctors to Appointments (1:N) -->
    <line x1="480" y1="140" x2="380" y2="180" stroke="#000" stroke-width="2" marker-end="url(#erArrow)"/>
    <text x="450" y="155" font-family="Times New Roman" font-size="10" fill="#666">1:N</text>
    
    <!-- Patients to Billing (1:N) -->
    <line x1="200" y1="100" x2="95" y2="330" stroke="#000" stroke-width="2" marker-end="url(#erArrow)"/>
    <text x="140" y="210" font-family="Times New Roman" font-size="10" fill="#666">1:N</text>
    
    <!-- Departments to Doctors (1:N) -->
    <line x1="590" y1="70" x2="560" y2="80" stroke="#000" stroke-width="2" marker-end="url(#erArrow)"/>
    <text x="570" y="65" font-family="Times New Roman" font-size="10" fill="#666">1:N</text>
    
    <!-- Legend -->
    <text x="420" y="360" font-family="Times New Roman" font-size="11" font-weight="bold">Legend:</text>
    <text x="420" y="380" font-family="Times New Roman" font-size="10">PK = Primary Key</text>
    <text x="420" y="395" font-family="Times New Roman" font-size="10">FK = Foreign Key</text>
    <text x="420" y="410" font-family="Times New Roman" font-size="10">UK = Unique Key</text>
    <text x="420" y="425" font-family="Times New Roman" font-size="10">1:N = One-to-Many</text>
</svg>
